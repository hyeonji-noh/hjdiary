{"ast":null,"code":"import'./Editor.css';import{useState,useEffect,useCallback}from'react';import{getFormattedDate,emotionList}from'../util';import Button from'./Button';import{useNavigate}from'react-router-dom';import EmotionItem from'./EmotionItem';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Editor=_ref=>{let{initData,onSubmit}=_ref;const navigate=useNavigate();const[state,setState]=useState({date:getFormattedDate(new Date()),emotionId:3,content:''});useEffect(()=>{if(initData){setState({...initData,date:getFormattedDate(new Date(parseInt(initData.date)))});}},[initData]);const handleChangeDate=e=>{setState({...state,date:e.target.value});};const handleChangeContent=e=>{setState({...state,content:e.target.value});};const handleSubmit=()=>{onSubmit(state);};const handleOnGoBack=()=>{navigate(-1);};const handleChangeEmotion=useCallback(emotionId=>{setState(state=>({...state,emotionId}));},[]);return/*#__PURE__*/_jsxs(\"div\",{className:\"Editor\",children:[/*#__PURE__*/_jsxs(\"section\",{className:\"editor_section\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"\\uC624\\uB298\\uC758 \\uB0A0\\uC9DC\"}),/*#__PURE__*/_jsx(\"div\",{className:\"input_wrapper\",children:/*#__PURE__*/_jsx(\"input\",{type:\"date\",value:state.date,onChange:handleChangeDate})})]}),/*#__PURE__*/_jsxs(\"section\",{className:\"editor_section\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"\\uC624\\uB298\\uC758 \\uAC10\\uC815\"}),/*#__PURE__*/_jsx(\"div\",{className:\"input_wrapper emotion_list_wrapper\",children:emotionList.map(it=>/*#__PURE__*/_jsx(EmotionItem,{...it,onClick:handleChangeEmotion,isSelected:state.emotionId===it.id},it.id))})]}),/*#__PURE__*/_jsxs(\"section\",{className:\"editor_section\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"\\uC624\\uB298\\uC758 \\uC77C\\uAE30\"}),/*#__PURE__*/_jsx(\"div\",{className:\"input_wrapper\",children:/*#__PURE__*/_jsx(\"textarea\",{placeholder:\"\\uC624\\uB298\\uC740 \\uC5B4\\uB560\\uB098\\uC694?\",value:state.content,onChange:handleChangeContent})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"editor_section bottom_section\",children:[/*#__PURE__*/_jsx(Button,{text:'취소하기',onClink:handleOnGoBack}),/*#__PURE__*/_jsx(Button,{text:'작성 완료',type:'positive',onClink:handleSubmit})]})]});};export default Editor;","map":{"version":3,"names":["useState","useEffect","useCallback","getFormattedDate","emotionList","Button","useNavigate","EmotionItem","jsx","_jsx","jsxs","_jsxs","Editor","_ref","initData","onSubmit","navigate","state","setState","date","Date","emotionId","content","parseInt","handleChangeDate","e","target","value","handleChangeContent","handleSubmit","handleOnGoBack","handleChangeEmotion","className","children","type","onChange","map","it","onClick","isSelected","id","placeholder","text","onClink"],"sources":["C:/react/hjdiary/src/component/Editor.js"],"sourcesContent":["import './Editor.css';\r\nimport { useState,useEffect,useCallback } from 'react';\r\nimport { getFormattedDate, emotionList } from '../util';\r\nimport Button from './Button';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport EmotionItem from './EmotionItem';\r\n\r\nconst Editor = ({ initData, onSubmit }) => {\r\n    const navigate = useNavigate();\r\n    const [state, setState] = useState({\r\n        date: getFormattedDate(new Date()),\r\n        emotionId: 3,\r\n        content: ''\r\n    });\r\n    useEffect(()=>{\r\n        if(initData) {\r\n            setState({\r\n                ...initData,\r\n                date:getFormattedDate(new Date(parseInt(initData.date)))\r\n            })\r\n        }\r\n    },[initData])\r\n    const handleChangeDate = (e) => {\r\n        setState({\r\n            ...state,\r\n            date: e.target.value,\r\n        })\r\n    }\r\n    const handleChangeContent = (e) => {\r\n        setState({\r\n            ...state,\r\n            content: e.target.value,\r\n        })\r\n    }\r\n    const handleSubmit = () => {\r\n        onSubmit(state);\r\n    }\r\n    const handleOnGoBack = () => {\r\n        navigate(-1);\r\n    }\r\n\r\n    const handleChangeEmotion = useCallback( (emotionId) => {\r\n            setState((state)=>({\r\n                ...state,\r\n                emotionId,\r\n            }))\r\n        }\r\n ,[])\r\n\r\n    return (\r\n        <div className='Editor'>\r\n            <section className='editor_section'>\r\n                <h4>오늘의 날짜</h4>\r\n                <div className='input_wrapper'>\r\n                    <input type='date' value={state.date} onChange={handleChangeDate} />\r\n                </div>\r\n            </section>\r\n            <section className='editor_section'>\r\n                <h4>오늘의 감정</h4>\r\n                <div className='input_wrapper emotion_list_wrapper'>\r\n                    {emotionList.map((it)=>(<EmotionItem \r\n                    key={it.id} {...it} onClick={handleChangeEmotion}\r\n                    isSelected={state.emotionId === it.id}\r\n                    />))}\r\n                </div>\r\n            </section>\r\n            <section className='editor_section'>\r\n                <h4>오늘의 일기</h4>\r\n                <div className='input_wrapper'>\r\n                    <textarea placeholder='오늘은 어땠나요?' value={state.content} onChange={handleChangeContent} />\r\n                </div>\r\n            </section>\r\n            <div className='editor_section bottom_section'>\r\n                <Button text={'취소하기'} onClink={handleOnGoBack} />\r\n                <Button text={'작성 완료'} type={'positive'} onClink={handleSubmit} />\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\nexport default Editor;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}