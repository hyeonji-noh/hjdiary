{"ast":null,"code":"import Editor from\"../component/Editor\";import{useNavigate,useParams}from\"react-router-dom\";import useDiary from'../hooks/useDiary';import Button from\"../component/Button\";import Header from\"../component/Header\";import{useContext}from\"react\";import{DiaryDispatchContext}from\"../App\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Edit=()=>{const{id}=useParams();const data=useDiary(id);const navigate=useNavigate();const goBack=()=>{navigate(-1);};const{onDelete,onUpdate}=useContext(DiaryDispatchContext);const onClinkDelete=()=>{if(window.confirm('일기를 정말 삭제할까요? 다시 복구되지 않아요')){onDelete(id);navigate('/',{replace:true});}};const onSubmit=data=>{if(window.confirm('일기를 정말 수정할까요?')){const{date,content,emotionId}=data;onUpdate(id,date,content,emotionId);navigate('/',{replace:true});}};if(!data){return/*#__PURE__*/_jsx(\"div\",{children:\"\\uC77C\\uAE30\\uB97C \\uBD88\\uB7EC\\uC624\\uACE0 \\uC788\\uC2B5\\uB2C8\\uB2E4...\"});}else{return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Header,{title:'일기 수정하기',leftChild:/*#__PURE__*/_jsx(Button,{text:'< 뒤로가기',onClink:goBack}),rightChild:/*#__PURE__*/_jsx(Button,{type:'negative',text:'삭제하기',onClink:onClinkDelete})}),/*#__PURE__*/_jsx(Editor,{initData:data,onSubmit:onSubmit})]});}};export default Edit;","map":{"version":3,"names":["Editor","useNavigate","useParams","useDiary","Button","Header","useContext","DiaryDispatchContext","jsx","_jsx","jsxs","_jsxs","Edit","id","data","navigate","goBack","onDelete","onUpdate","onClinkDelete","window","confirm","replace","onSubmit","date","content","emotionId","children","title","leftChild","text","onClink","rightChild","type","initData"],"sources":["C:/react/hjdiary/src/pages/Edit.js"],"sourcesContent":["import Editor from \"../component/Editor\";\r\nimport { useNavigate,useParams } from \"react-router-dom\";\r\nimport useDiary from '../hooks/useDiary';\r\nimport Button from \"../component/Button\";\r\nimport Header from \"../component/Header\";\r\nimport { useContext } from \"react\";\r\nimport { DiaryDispatchContext } from \"../App\";\r\n\r\nconst Edit = () => {\r\n    const {id} = useParams();\r\n    const data = useDiary(id);\r\n    const navigate = useNavigate();\r\n    const goBack = () => {\r\n        navigate(-1);\r\n    }\r\n    const { onDelete,onUpdate } = useContext(DiaryDispatchContext);\r\n    const onClinkDelete = () => {\r\n        if(window.confirm('일기를 정말 삭제할까요? 다시 복구되지 않아요')){\r\n            onDelete(id);\r\n            navigate('/',{replace:true});\r\n        }\r\n    }\r\n    const onSubmit = (data) => {\r\n        if(window.confirm('일기를 정말 수정할까요?')){\r\n            const {date,content,emotionId} = data;\r\n            onUpdate(id,date,content,emotionId);\r\n            navigate('/',{replace:true});\r\n        }\r\n    }\r\n    if(!data) {\r\n        return <div>일기를 불러오고 있습니다...</div>\r\n    }else{\r\n        return (\r\n            <div>\r\n                <Header \r\n                title={'일기 수정하기'}\r\n                leftChild={<Button  text={'< 뒤로가기'} onClink={goBack}/>}\r\n                rightChild={<Button type={'negative'} text={'삭제하기'} onClink={onClinkDelete}/>}\r\n                />\r\n                <Editor initData={data} onSubmit={onSubmit}/>\r\n            </div>\r\n        )\r\n    }\r\n}\r\nexport default Edit;"],"mappings":"AAAA,MAAO,CAAAA,MAAM,KAAM,qBAAqB,CACxC,OAASC,WAAW,CAACC,SAAS,KAAQ,kBAAkB,CACxD,MAAO,CAAAC,QAAQ,KAAM,mBAAmB,CACxC,MAAO,CAAAC,MAAM,KAAM,qBAAqB,CACxC,MAAO,CAAAC,MAAM,KAAM,qBAAqB,CACxC,OAASC,UAAU,KAAQ,OAAO,CAClC,OAASC,oBAAoB,KAAQ,QAAQ,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE9C,KAAM,CAAAC,IAAI,CAAGA,CAAA,GAAM,CACf,KAAM,CAACC,EAAE,CAAC,CAAGX,SAAS,CAAC,CAAC,CACxB,KAAM,CAAAY,IAAI,CAAGX,QAAQ,CAACU,EAAE,CAAC,CACzB,KAAM,CAAAE,QAAQ,CAAGd,WAAW,CAAC,CAAC,CAC9B,KAAM,CAAAe,MAAM,CAAGA,CAAA,GAAM,CACjBD,QAAQ,CAAC,CAAC,CAAC,CAAC,CAChB,CAAC,CACD,KAAM,CAAEE,QAAQ,CAACC,QAAS,CAAC,CAAGZ,UAAU,CAACC,oBAAoB,CAAC,CAC9D,KAAM,CAAAY,aAAa,CAAGA,CAAA,GAAM,CACxB,GAAGC,MAAM,CAACC,OAAO,CAAC,2BAA2B,CAAC,CAAC,CAC3CJ,QAAQ,CAACJ,EAAE,CAAC,CACZE,QAAQ,CAAC,GAAG,CAAC,CAACO,OAAO,CAAC,IAAI,CAAC,CAAC,CAChC,CACJ,CAAC,CACD,KAAM,CAAAC,QAAQ,CAAIT,IAAI,EAAK,CACvB,GAAGM,MAAM,CAACC,OAAO,CAAC,eAAe,CAAC,CAAC,CAC/B,KAAM,CAACG,IAAI,CAACC,OAAO,CAACC,SAAS,CAAC,CAAGZ,IAAI,CACrCI,QAAQ,CAACL,EAAE,CAACW,IAAI,CAACC,OAAO,CAACC,SAAS,CAAC,CACnCX,QAAQ,CAAC,GAAG,CAAC,CAACO,OAAO,CAAC,IAAI,CAAC,CAAC,CAChC,CACJ,CAAC,CACD,GAAG,CAACR,IAAI,CAAE,CACN,mBAAOL,IAAA,QAAAkB,QAAA,CAAK,yEAAgB,CAAK,CAAC,CACtC,CAAC,IAAI,CACD,mBACIhB,KAAA,QAAAgB,QAAA,eACIlB,IAAA,CAACJ,MAAM,EACPuB,KAAK,CAAE,SAAU,CACjBC,SAAS,cAAEpB,IAAA,CAACL,MAAM,EAAE0B,IAAI,CAAE,QAAS,CAACC,OAAO,CAAEf,MAAO,CAAC,CAAE,CACvDgB,UAAU,cAAEvB,IAAA,CAACL,MAAM,EAAC6B,IAAI,CAAE,UAAW,CAACH,IAAI,CAAE,MAAO,CAACC,OAAO,CAAEZ,aAAc,CAAC,CAAE,CAC7E,CAAC,cACFV,IAAA,CAACT,MAAM,EAACkC,QAAQ,CAAEpB,IAAK,CAACS,QAAQ,CAAEA,QAAS,CAAC,CAAC,EAC5C,CAAC,CAEd,CACJ,CAAC,CACD,cAAe,CAAAX,IAAI","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}