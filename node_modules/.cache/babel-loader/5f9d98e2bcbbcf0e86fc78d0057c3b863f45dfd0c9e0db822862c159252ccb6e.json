{"ast":null,"code":"import Button from\"../component/Button\";import Header from\"../component/Header\";import{useState,useContext,useEffect}from\"react\";import{DiaryStateContext}from'../App';import{getMonthRangeDate}from\"../util\";import DiaryList from\"../component/DiaryList\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Home=()=>{const[pivotDate,setPivotDate]=useState(new Date());const data=useContext(DiaryStateContext);const[filteredData,setFilteredData]=useState([]);const onIncresesMonth=()=>{setPivotDate(new Date(pivotDate.getFullYear(),pivotDate.getMonth()+1));};const onDecresesMonth=()=>{setPivotDate(new Date(pivotDate.getFullYear(),pivotDate.getMonth()-1));};const headerTitle=`${pivotDate.getFullYear()}년 ${pivotDate.getMonth()+1}월`;useEffect(()=>{if(data.length>=1){const{beginTimeStamp,endTimeStamp}=getMonthRangeDate(pivotDate);setFilteredData(data.filter(it=>beginTimeStamp<=it.date&&it.date<=endTimeStamp));}else{setFilteredData([]);}},[data,pivotDate]);return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Header,{title:headerTitle,leftChild:/*#__PURE__*/_jsx(Button,{text:'<',onClink:onDecresesMonth}),rightChild:/*#__PURE__*/_jsx(Button,{text:'>',onClink:onIncresesMonth})}),/*#__PURE__*/_jsx(DiaryList,{data:filteredData})]});};export default Home;","map":{"version":3,"names":["Button","Header","useState","useContext","useEffect","DiaryStateContext","getMonthRangeDate","DiaryList","jsx","_jsx","jsxs","_jsxs","Home","pivotDate","setPivotDate","Date","data","filteredData","setFilteredData","onIncresesMonth","getFullYear","getMonth","onDecresesMonth","headerTitle","length","beginTimeStamp","endTimeStamp","filter","it","date","children","title","leftChild","text","onClink","rightChild"],"sources":["C:/react/hjdiary/src/pages/Home.js"],"sourcesContent":["import Button from \"../component/Button\";\r\nimport Header from \"../component/Header\";\r\nimport { useState,useContext,useEffect } from \"react\";\r\nimport { DiaryStateContext } from '../App';\r\nimport { getMonthRangeDate } from \"../util\";\r\nimport DiaryList from \"../component/DiaryList\";\r\n\r\nconst Home = () => {\r\n    const [pivotDate, setPivotDate] = useState(new Date());\r\n    const data = useContext(DiaryStateContext);\r\n    const [filteredData, setFilteredData] = useState([]);\r\n        const onIncresesMonth = () => {\r\n        setPivotDate(new Date(pivotDate.getFullYear(), pivotDate.getMonth()+1));\r\n    }\r\n    const onDecresesMonth = () => {\r\n        setPivotDate(new Date(pivotDate.getFullYear(), pivotDate.getMonth()-1));\r\n    }\r\n    const headerTitle = `${pivotDate.getFullYear()}년 ${pivotDate.getMonth()+1}월`;\r\n    useEffect(()=>{\r\n        if(data.length >=1){\r\n            const {beginTimeStamp, endTimeStamp} = getMonthRangeDate(pivotDate);\r\n            setFilteredData(\r\n                data.filter(it=>beginTimeStamp <= it.date && it.date <= endTimeStamp )\r\n            )\r\n        }else{\r\n            setFilteredData([]);\r\n        }\r\n    },[data,pivotDate])\r\n    return (\r\n        <div>\r\n            <Header \r\n            title={headerTitle} \r\n            leftChild={\r\n                <Button \r\n                text={'<'}  onClink={onDecresesMonth}/>\r\n            }\r\n            rightChild={\r\n            <Button \r\n                text={'>'} onClink={onIncresesMonth}\r\n               /> }\r\n            />\r\n            <DiaryList data={filteredData}/>\r\n        </div>\r\n    )\r\n}\r\nexport default Home;"],"mappings":"AAAA,MAAO,CAAAA,MAAM,KAAM,qBAAqB,CACxC,MAAO,CAAAC,MAAM,KAAM,qBAAqB,CACxC,OAASC,QAAQ,CAACC,UAAU,CAACC,SAAS,KAAQ,OAAO,CACrD,OAASC,iBAAiB,KAAQ,QAAQ,CAC1C,OAASC,iBAAiB,KAAQ,SAAS,CAC3C,MAAO,CAAAC,SAAS,KAAM,wBAAwB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE/C,KAAM,CAAAC,IAAI,CAAGA,CAAA,GAAM,CACf,KAAM,CAACC,SAAS,CAAEC,YAAY,CAAC,CAAGZ,QAAQ,CAAC,GAAI,CAAAa,IAAI,CAAC,CAAC,CAAC,CACtD,KAAM,CAAAC,IAAI,CAAGb,UAAU,CAACE,iBAAiB,CAAC,CAC1C,KAAM,CAACY,YAAY,CAAEC,eAAe,CAAC,CAAGhB,QAAQ,CAAC,EAAE,CAAC,CAChD,KAAM,CAAAiB,eAAe,CAAGA,CAAA,GAAM,CAC9BL,YAAY,CAAC,GAAI,CAAAC,IAAI,CAACF,SAAS,CAACO,WAAW,CAAC,CAAC,CAAEP,SAAS,CAACQ,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAC3E,CAAC,CACD,KAAM,CAAAC,eAAe,CAAGA,CAAA,GAAM,CAC1BR,YAAY,CAAC,GAAI,CAAAC,IAAI,CAACF,SAAS,CAACO,WAAW,CAAC,CAAC,CAAEP,SAAS,CAACQ,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAC3E,CAAC,CACD,KAAM,CAAAE,WAAW,CAAG,GAAGV,SAAS,CAACO,WAAW,CAAC,CAAC,KAAKP,SAAS,CAACQ,QAAQ,CAAC,CAAC,CAAC,CAAC,GAAG,CAC5EjB,SAAS,CAAC,IAAI,CACV,GAAGY,IAAI,CAACQ,MAAM,EAAG,CAAC,CAAC,CACf,KAAM,CAACC,cAAc,CAAEC,YAAY,CAAC,CAAGpB,iBAAiB,CAACO,SAAS,CAAC,CACnEK,eAAe,CACXF,IAAI,CAACW,MAAM,CAACC,EAAE,EAAEH,cAAc,EAAIG,EAAE,CAACC,IAAI,EAAID,EAAE,CAACC,IAAI,EAAIH,YAAa,CACzE,CAAC,CACL,CAAC,IAAI,CACDR,eAAe,CAAC,EAAE,CAAC,CACvB,CACJ,CAAC,CAAC,CAACF,IAAI,CAACH,SAAS,CAAC,CAAC,CACnB,mBACIF,KAAA,QAAAmB,QAAA,eACIrB,IAAA,CAACR,MAAM,EACP8B,KAAK,CAAER,WAAY,CACnBS,SAAS,cACLvB,IAAA,CAACT,MAAM,EACPiC,IAAI,CAAE,GAAI,CAAEC,OAAO,CAAEZ,eAAgB,CAAC,CACzC,CACDa,UAAU,cACV1B,IAAA,CAACT,MAAM,EACHiC,IAAI,CAAE,GAAI,CAACC,OAAO,CAAEf,eAAgB,CACpC,CAAG,CACN,CAAC,cACFV,IAAA,CAACF,SAAS,EAACS,IAAI,CAAEC,YAAa,CAAC,CAAC,EAC/B,CAAC,CAEd,CAAC,CACD,cAAe,CAAAL,IAAI","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}